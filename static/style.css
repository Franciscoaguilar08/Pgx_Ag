/* ========= THEME ========= */
:root {
  --bg: #0a0614;          /* azul-violeta profundo */
  --bg2: #0c0820;
  --glass: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.12);
  --text: #E8E6F0;
  --sub: #A7A3B5;
  --accent: #7C5CFF;      /* violeta neón */
  --accent2: #3AB8FF;     /* azul neón */
  --ok: #42e6a4;
  --warn: #ffd166;
  --err: #ff6b6b;
  --chip-bg: rgba(124,92,255,0.12);
  --chip-border: rgba(124,92,255,0.35);
}

/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body {
  margin: 0;
  font-family: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, #1c1140 0%, transparent 60%),
              radial-gradient(1200px 800px at 100% 20%, #0d2a4a 0%, transparent 60%),
              linear-gradient(180deg, var(--bg), var(--bg2));
  overflow-x: hidden;
}

/* ========= BACKGROUND LAYERS ========= */
.bg-grid {
  position: fixed; inset: 0;
  background-image:
    linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 40px 40px, 40px 40px;
  mask-image: radial-gradient(60% 60% at 50% 30%, #000 70%, transparent 100%);
  pointer-events: none;
  z-index: 0;
  animation: gridFloat 16s linear infinite;
}
@keyframes gridFloat {
  0% { transform: translateY(0px) }
  50% { transform: translateY(12px) }
  100% { transform: translateY(0px) }
}
.bg-glow {
  position: fixed; inset: 0;
  background: radial-gradient(800px 500px at 70% 20%, rgba(58,184,255,0.18), transparent 60%),
              radial-gradient(700px 400px at 10% 80%, rgba(124,92,255,0.18), transparent 60%);
  filter: blur(10px);
  pointer-events: none;
  z-index: 0;
}

/* ========= LAYOUT ========= */
.container { position: relative; z-index: 1; max-width: 1200px; margin: 0 auto; padding: 28px 20px; }
.header.glass, .card.glass {
  background: var(--glass);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.35);
}
.header {
  padding: 16px 18px;
  display: flex; align-items: center; justify-content: space-between; gap: 16px;
}
.brand { display: flex; align-items: center; gap: 14px; }
.logo {
  width: 46px; height: 46px; border-radius: 12px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  display: grid; place-items: center;
  font-weight: 800; color: #0a0a0f;
  box-shadow: 0 8px 30px rgba(124,92,255,0.35);
}
.header h1 { margin: 0; font-size: 1.25rem }
.subtitle { margin: 2px 0 0; color: var(--sub); font-size: .95rem }

.status { display: flex; gap: 8px; flex-wrap: wrap; }
.chip {
  padding: 6px 10px; border-radius: 999px; font-size: .85rem;
  background: var(--chip-bg);
  border: 1px solid var(--chip-border);
  color: #d7d1ff;
}
.chip.ok { border-color: rgba(66,230,164,.45); background: rgba(66,230,164,.14); color:#c9ffe9 }
.chip.err { border-color: rgba(255,107,107,.45); background: rgba(255,107,107,.14); color:#ffd3d3 }
.chip.ia { border-color: rgba(58,184,255,.45); background: rgba(58,184,255,.14) }

.grid { margin-top: 18px; display: grid; gap: 18px; grid-template-columns: 1.2fr .8fr; }
.card { padding: 18px; border-radius: 16px; }

/* ========= FORMS ========= */
.field-row { display: grid; gap: 12px; grid-template-columns: 1fr 1fr; }
.field { display: grid }
label { font-size: .9rem; color: var(--sub); margin-bottom: 6px }
input, textarea, select {
  width: 100%; color: var(--text); background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.12); border-radius: 12px; padding: 10px 12px;
  outline: none; transition: border .2s, box-shadow .2s;
}
input:focus, textarea:focus, select:focus {
  border-color: rgba(124,92,255,0.55);
  box-shadow: 0 0 0 4px rgba(124,92,255,.15);
}
.combo { position: relative }
.suggestions {
  position: absolute; top: calc(100% + 6px); left: 0; right: 0; z-index: 20;
  background: rgba(15, 12, 32, .95); border: 1px solid var(--glass-border); border-radius: 10px;
  overflow: hidden; display: none;
}
.suggestions.show { display: block }
.suggestions button {
  display: block; width: 100%; text-align: left; background: transparent; color: var(--text);
  border: 0; padding: 10px 12px; cursor: pointer;
}
.suggestions button:hover { background: rgba(124,92,255,0.15) }

/* ========= TABS ========= */
.tabs { display:flex; gap:8px; margin: 16px 0 10px }
.tab-btn {
  background: transparent; color: #d9d7ff; border: 1px dashed rgba(124,92,255,.4);
  padding: 8px 12px; border-radius: 10px; cursor: pointer; transition: all .2s;
}
.tab-btn.active { background: rgba(124,92,255,0.18); border-style: solid; }
.tab-content { margin-top: 6px }
.tab-pane { display: none }
.tab-pane.active { display: block }

/* ========= DROP ========= */
.drop {
  border: 1px dashed rgba(58,184,255,.45); border-radius: 14px;
  padding: 16px; background: rgba(58,184,255,.06);
  transition: transform .15s ease, box-shadow .15s ease;
}
.drop:hover { transform: translateY(-1px); box-shadow: 0 8px 30px rgba(58,184,255,.15) }
.drop-inner { display:grid; place-items:center; gap:6px; color:#cdeeff }
.drop-icon { font-size: 1.2rem }

.filehint { font-size: .85rem; color: var(--sub) }
.btns { display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px }

/* ========= LISTAS ========= */
.row { display: grid; grid-template-columns: 1fr 1fr auto; gap: 8px; align-items: center }
.stack { display: grid; gap: 10px }
.icon {
  background: rgba(255,255,255,0.06); color: #ddd; border:1px solid rgba(255,255,255,0.12);
  padding: 8px 10px; border-radius: 10px; cursor: pointer;
}

/* ========= BUTTONS ========= */
button {
  border: none; border-radius: 12px; padding: 10px 14px; cursor: pointer; font-weight: 600;
  color: #0d0b16; background: linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow: 0 8px 24px rgba(124,92,255,.28), inset 0 0 0 1px rgba(255,255,255,.08);
  transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
}
button:hover { filter: brightness(1.08) }
button:active { transform: translateY(1px) }

button.ghost {
  background: transparent; color: #e9e6ff; border: 1px solid rgba(255,255,255,0.18);
  box-shadow: none;
}
button.soft {
  background: rgba(124,92,255,0.14); color: #e9e6ff; border: 1px solid rgba(124,92,255,.35);
}
button.primary.glow {
  box-shadow: 0 10px 35px rgba(124,92,255,.45), inset 0 0 0 1px rgba(255,255,255,.1);
}
button.primary.alt {
  background: linear-gradient(135deg, var(--accent2), var(--accent));
}

/* ========= ACTIONS ========= */
.actions { display:flex; gap:10px; align-items:center; margin-top: 14px; flex-wrap: wrap }
.spacer { flex: 1 }

/* ========= RESULTS ========= */
.results { display: grid; gap: 12px }
.result-summary { background: rgba(255,255,255,0.03); border:1px solid var(--glass-border); padding: 12px; border-radius: 12px }
.result-details { display: grid; gap: 12px }
.detail-card {
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.12);
  border-radius: 14px; padding: 12px;
}
.detail-card h4 { margin: 0 0 6px; color: #dcd9ff; font-size: 1rem }
.detail-card .drug { color: #a7f3d0; font-weight: 700 }
.badges { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 6px }
.badge {
  display:inline-block; padding: 4px 10px; border-radius: 999px; font-size: .8rem;
  border:1px solid rgba(255,255,255,0.18); color:#e9e6ff; background: rgba(255,255,255,0.06);
}
.badge.accent { border-color: rgba(124,92,255,.45); background: rgba(124,92,255,.16) }
.badge.accent2 { border-color: rgba(58,184,255,.45); background: rgba(58,184,255,.16) }
.refs { margin-top: 6px; font-size: .9rem }
.refs a { color: var(--accent2); text-decoration: none }
.refs a:hover { text-decoration: underline }
.timeline { margin-top: 12px }
.timeline ul { padding-left: 18px; margin: 6px 0 }
.timeline li { padding: 4px 0; color: #d9d7ff }

/* ========= BANNER / TOAST ========= */
.banner {
  margin-top: 12px; padding: 10px 12px; border-radius: 10px;
  background: rgba(255, 214, 102, .14); color: #ffe6a1; border: 1px solid rgba(255,214,102,.4);
  display: none;
}
.toast {
  position: fixed; bottom: 22px; left: 50%; transform: translateX(-50%);
  background: rgba(15, 12, 32, .94); color: var(--text); border: 1px solid var(--glass-border);
  border-radius: 12px; padding: 10px 14px; display: none; z-index: 50;
  box-shadow: 0 10px 40px rgba(0,0,0,0.35);
}

/* ========= FOOTER ========= */
.footer { text-align: center; color: var(--sub); margin-top: 16px; font-size: .9rem }

/* ========= RESPONSIVE ========= */
@media (max-width: 980px) {
  .grid { grid-template-columns: 1fr; }
  .field-row { grid-template-columns: 1fr; }
}
